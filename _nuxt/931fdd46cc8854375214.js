/*! For license information please see LICENSES */
(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{247:function(e,n,t){},249:function(e,n,t){"use strict";var r=t(247);t.n(r).a},250:function(e,n,t){"use strict";t(19),t(10),t(8),t(5),t(13),t(126),t(39);var r=t(3),l=t(65);function o(object,e){var n=Object.keys(object);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(object);e&&(t=t.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),n.push.apply(n,t)}return n}var c=t(251);t(252);var h={props:["prefix","pages","page","content"],data:function(){return{ready:!1}},computed:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?o(Object(source),!0).forEach((function(n){Object(r.a)(e,n,source[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):o(Object(source)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(source,n))}))}return e}({},Object(l.b)(["env"]),{filledContent:function(){return this.content.replace(new RegExp(c("<span>{{</span>publicUrl<span>}}</span>","g")),this.env.publicUrl)}}),mounted:function(){var e=this,n={h2:["display-1","my-4"],h3:["title","mb-4","mt-5"],h4:["subheading","mb-3","mt-4"],p:["body1"],table:["v-datatable","v-table","theme--light","elevation-1"],pre:["pt-3","mb-4","px-2"]};Object.keys(n).forEach((function(t){e.$el.querySelectorAll(t).forEach((function(e){n[t].forEach((function(n){return e.classList.add(n)}))}))})),this.ready=!0}},m=(t(249),t(60)),d=t(127),f=t.n(d),j=t(326),v=t(335),_=t(259),E=t(257),O=t(248),T=t(330),y=t(327),R=t(328),component=Object(m.a)(h,(function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("v-container",{staticClass:"doc-page",attrs:{fluid:""}},[t("v-navigation-drawer",{staticStyle:{"padding-top":"64px"},attrs:{app:"",fixed:""}},[t("v-subheader",[e._v(e._s(e.$t("pages."+e.prefix+".title")))]),e._v(" "),t("v-list",e._l(e.pages,(function(n){return t("v-list-item",{key:n,attrs:{to:e.localePath({name:e.prefix+"-id",params:{id:n}})}},[t("v-list-item-title",[e._v(e._s(e.$t("pages."+e.prefix+"."+n+".title")))])],1)})),1)],1),e._v(" "),t("v-row",[t("v-col",[t("h2",{staticClass:"display1 my-4"},[e._v("\n        "+e._s(e.$t("pages."+e.prefix+"."+e.page+".title"))+"\n      ")]),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:e.ready,expression:"ready"}],attrs:{cols:"12"},domProps:{innerHTML:e._s(e.filledContent)}})])],1)],1)}),[],!1,null,null,null);n.a=component.exports;f()(component,{VCol:j.a,VContainer:v.a,VList:_.a,VListItem:E.a,VListItemTitle:O.a,VNavigationDrawer:T.a,VRow:y.a,VSubheader:R.a})},284:function(e,n,t){var r=t(285);function l(e){return e}function o(e,n){const t=(n=n||{}).delimiter||".",o=n.maxDepth,c=n.transformKey||l,output={};return function e(object,l,h){h=h||1,Object.keys(object).forEach((function(m){const d=object[m],f=n.safe&&Array.isArray(d),j=Object.prototype.toString.call(d),v=r(d),_="[object Object]"===j||"[object Array]"===j,E=l?l+t+c(m):c(m);if(!f&&!v&&_&&Object.keys(d).length&&(!n.maxDepth||h<o))return e(d,E,h+1);output[E]=d}))}(e),output}e.exports=o,o.flatten=o,o.unflatten=function e(n,t){const c=(t=t||{}).delimiter||".",h=t.overwrite||!1,m=t.transformKey||l,d={};if(r(n)||"[object Object]"!==Object.prototype.toString.call(n))return n;function f(e){const n=Number(e);return isNaN(n)||-1!==e.indexOf(".")||t.object?e:n}return n=Object.keys(n).reduce((e,r)=>{const l=Object.prototype.toString.call(n[r]);return!("[object Object]"===l||"[object Array]"===l)||function(e){const n=Object.prototype.toString.call(e),t="[object Array]"===n,r="[object Object]"===n;if(!e)return!0;if(t)return!e.length;if(r)return!Object.keys(e).length}(n[r])?(e[r]=n[r],e):function(e,n,t){return Object.keys(t).reduce((function(n,r){return n[e+c+r]=t[r],n}),n)}(r,e,o(n[r],t))},{}),Object.keys(n).forEach((function(r){const l=r.split(c).map(m);let o=f(l.shift()),j=f(l[0]),v=d;for(;void 0!==j;){const e=Object.prototype.toString.call(v[o]),n="[object Object]"===e||"[object Array]"===e;if(!h&&!n&&void 0!==v[o])return;(h&&!n||!h&&null==v[o])&&(v[o]="number"!=typeof j||t.object?{}:[]),v=v[o],l.length>0&&(o=f(l.shift()),j=f(l[0]))}v[o]=e(n[r],t)})),d}},285:function(e,n){e.exports=function(e){return null!=e&&null!=e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}},286:function(e,n,t){var map={"./config-en.md":287,"./config-fr.md":288,"./i18n-en.md":289,"./i18n-fr.md":290,"./install-en.md":291,"./install-fr.md":292};function r(e){var n=l(e);return t(n)}function l(e){if(!t.o(map,e)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return map[e]}r.keys=function(){return Object.keys(map)},r.resolve=l,e.exports=r,r.id=286},287:function(e,n){e.exports="<section><h3>Variables</h3>\n<p><em>DataFair</em> supports quite a large number of parameters that are documented below. We try as much as possible to define sensible default values, still some parameters will almost always need to be overridden, these parameters have <strong>IMPORTANT</strong> in their descriptions.</p>\n<p>Parameters can be overridden by directly modifying the files, but the recommanded way is to use environment variables.</p>\n<p>{{CONFIG_VARS}}</p>\n</section>\n"},288:function(e,n){e.exports="<section><h3>Variables</h3>\n<p><em>DataFair</em> supporte un nombre assez important de paramètres qui sont documentés ci-dessous. Autant que possible nous définissons des valeurs par défaut sensées, mais certains paramètres seront presque toujours à définir pour un nouveau déploiement, ces paramètres contiennent <strong>IMPORTANT</strong> dans leurs descriptions.</p>\n<p>Les paramètres peuvent être surchargés directement en modifiant les fichiers, mais la manière recommandée est de définir des variables d'environnement.</p>\n<p>{{CONFIG_VARS}}</p>\n</section>\n"},289:function(e,n){e.exports='<section><h3>Internationalization</h3>\n<p>All messages in <em>DataFair</em> are externalized and internationalized.</p>\n<p>To add a language you can add a file in <a href="(https://github.com/koumoul-dev/data-fair/tree/master/i18n)">this directory </a> either by overwriting the Docker image or submitting a pull request.</p>\n<p>To change some values you can set environment variables when running the service. The table below contains the supported keys. <strong>Warning:</strong> we try to keep the keys as stables as possible, but still some modification may occur between 2 versions of <em>DataFair</em>. If you overwrite some values, you should check it again after each upgrade.</p>\n<p>{{I18N_VARS}}</p>\n</section>\n'},290:function(e,n){e.exports="<section><h3>Internationalisation</h3>\n<p><strong>Attention: l'internationalisation de DataFair est un travail en cours.</strong></p>\n<p>Les libellés de <em>DataFair</em> sont externalisés et internationalisés.</p>\n<p>Pour ajouter une langue vous pouvez ajouter un fichier dans <a href=\"https://github.com/koumoul-dev/data-fair/tree/master/i18n\">ce répertoire</a> soit par surcharge de l'image docker soit en soumettant une <em>pull request</em>.</p>\n<p>Pour modifier des valeurs de libellés vous pouvez passer des variables d'environnements au démarrage du service. La table ci-dessous contient la liste des clés supportées.</p>\n<p><strong>Attention :</strong> nous essayons de maintenir ces clés aussi stables que possibles, mais il est toujours possible que quelques modifications surviennent entre 2 versions de <em>DataFair</em>. Si vous surchargez des valeurs, vous devez vérifier que cette surcharge reste effective au moment d'une montée en version.</p>\n<p>{{I18N_VARS}}</p>\n</section>\n"},291:function(e,n){e.exports="<section><p>TODO</p>\n</section>\n"},292:function(e,n){e.exports='<section><p>Cette application expose des services Web et interopère avec d\'autres applications du même type. Pour comprendre comment <em>DataFair</em> fonctionne, vous pouvez aller voir la <a href="https://koumoul-dev.github.io/data-fair/about/technical-overview">description technique</a>.</p>\n<p>Nous proposons une installation simple grâce à l\'utilisation de conteneurs <a href="https://docker.com">Docker</a> basés sur <a href="https://hub.docker.com/r/koumoul/data-fair/">l\'image</a> que nous mettons à disposition. Le service peut être installé hors Docker, nous vous conseillons dans ce cas de regarder la documentation pour les développeurs directement dans le <a href="https://github.com/koumoul-dev/data-fair">répertoire du projet</a>.</p>\n<h2>Prérequis</h2>\n<h3>Configuration matérielle</h3>\n<p>Ce service a été testé sous Linux (Ubuntu 16.04), vous pouvez utiliser n\'importe quel système Linux compatible avec un démon Docker récent. Le service n\'a pas besoin de beaucoup de ressources de calcul, mais plutôt de mémoire et d\'entrée sortie. La configuration recommandée est la suivante :</p>\n<ul>\n<li>Au moins 2 coeurs, 4 si les base de données tournent sur la même machine</li>\n<li>4 Go de RAM, 16 si les base données tournent sur la même machine. Cette quantité peut être plus importante si l\'on souhaite stocker des volumes importants. Dans ce cas nous conseillons d\'installer ElasticSearch sur une autre machine avec plus de mémoire vive, ou de faire un cluster sur plusieurs machines.</li>\n<li>50 Go de disque dur, de type SSD. Cette quantité peut être plus importante suivant le volume de données que l\'on souhaite gérer.</li>\n<li>100 Mbits de bande passante au minimum, que ce soit en montant ou en descendant.</li>\n</ul>\n<h3>Docker</h3>\n<p>Installez Docker en suivant la <a href="https://docs.docker.com/engine/installation/">documentation officielle</a> très complète.</p>\n<p>Nous conseillons aussi d\'installer <a href="https://docs.docker.com/compose/install/">docker-compose</a> pour une vision plus claire de la configuration.</p>\n<h3>MongoDB</h3>\n<p>Le service nécessite MongoDB 3.4 ou supérieur pour persister ses données. MongoDB peut être <a href="https://docs.mongodb.com/v3.4/installation/">installé de différentes manières</a>.</p>\n<p><strong>Installer MongoDB manuellement est optionnel</strong>, vous pouvez opter pour une installation globale de tous les services avec Docker (voir plus bas).</p>\n<h3>ElasticSearch</h3>\n<p>Le service nécessite ElasticSearch 6.0 avec le plugin ingest-attachment. Les instruction d\'installation sont <a href="https://www.elastic.co/guide/en/elasticsearch/reference/6.0/install-elasticsearch.html">disponibles ici</a>.</p>\n<p><strong>Installer ElasticSearch manuellement est optionnel</strong>, vous pouvez opter pour une installation globale de tous les services avec Docker (voir plus bas).</p>\n<h3>Annuaire d\'utilisateurs</h3>\n<p>Le service nécessite <a href="https://koumoul-dev.github.io/simple-directory/">Simple Directory</a> pour sa gestion des comptes.</p>\n<p><strong>Installer Simple Directory individuellement est optionnel</strong>, vous pouvez opter pour une installation globale de tous les services avec Docker (voir plus bas).</p>\n<h2>Installation recommandée</h2>\n<p>Pour une installation avec docker-compose vous devez créer un fichier <code>docker-compose.yml</code>. Ci-dessous un exemple qui lance non seulement le service data-fair, mais aussi toutes ses dépendances et un proxy HTTP en frontal. Cet exemple peut être assez complet pour une mise en production simple sur une machine, nous allons détailler son paramétrage dans les sections suivantes:</p>\n<pre><code class="language-yaml"><span class="hljs-attr">version:</span> <span class="hljs-string">\'3\'</span>\n<span class="hljs-attr">services:</span>\n\n  <span class="hljs-comment">#########################</span>\n  <span class="hljs-comment"># Dynamic reverse proxy</span>\n  <span class="hljs-comment">#########################</span>\n\n  <span class="hljs-attr">traefik:</span>\n    <span class="hljs-attr">image:</span> <span class="hljs-string">traefik:1.7</span>\n    <span class="hljs-attr">command:</span>\n      <span class="hljs-bullet">-</span> <span class="hljs-string">"--docker.exposedbydefault=false"</span>\n      <span class="hljs-bullet">-</span> <span class="hljs-string">"--forwardingtimeouts.dialtimeout=5m"</span>\n    <span class="hljs-attr">restart:</span> <span class="hljs-string">always</span>\n    <span class="hljs-attr">ports:</span>\n      <span class="hljs-bullet">-</span> <span class="hljs-number">80</span><span class="hljs-string">:80</span>\n    <span class="hljs-attr">volumes:</span>\n      <span class="hljs-bullet">-</span> <span class="hljs-string">/var/run/docker.sock:/var/run/docker.sock</span>\n\n  <span class="hljs-attr">redirect-root:</span>\n    <span class="hljs-attr">image:</span> <span class="hljs-string">cusspvz/redirect</span>\n    <span class="hljs-attr">restart:</span> <span class="hljs-string">always</span>\n    <span class="hljs-attr">labels:</span>\n      <span class="hljs-bullet">-</span> <span class="hljs-string">"traefik.enable=true"</span>\n      <span class="hljs-bullet">-</span> <span class="hljs-string">"traefik.frontend.rule=Path:/"</span>\n    <span class="hljs-attr">environment:</span>\n      <span class="hljs-bullet">-</span> <span class="hljs-string">REDIRECT=${PROTOCOL}://${DOMAIN}/data-fair</span>\n      <span class="hljs-bullet">-</span> <span class="hljs-string">REDIRECT_TYPE=redirect</span>\n\n  <span class="hljs-comment">#########################</span>\n  <span class="hljs-comment"># HTTP services</span>\n  <span class="hljs-comment">#########################</span>\n\n  <span class="hljs-attr">data-fair:</span>\n    <span class="hljs-attr">image:</span> <span class="hljs-string">koumoul/data-fair:0</span>\n    <span class="hljs-attr">restart:</span> <span class="hljs-string">always</span>\n    <span class="hljs-attr">volumes:</span>\n      <span class="hljs-bullet">-</span> <span class="hljs-string">data-fair-data:/webapp/data</span>\n    <span class="hljs-attr">labels:</span>\n      <span class="hljs-bullet">-</span> <span class="hljs-string">"traefik.enable=true"</span>\n      <span class="hljs-bullet">-</span> <span class="hljs-string">"traefik.frontend.rule=PathPrefixStrip:/data-fair/"</span>\n    <span class="hljs-attr">environment:</span>\n      <span class="hljs-bullet">-</span> <span class="hljs-string">DEBUG=upgrade*</span>\n      <span class="hljs-bullet">-</span> <span class="hljs-string">PUBLIC_URL=${PROTOCOL}://${DOMAIN}/data-fair</span>\n      <span class="hljs-bullet">-</span> <span class="hljs-string">WS_PUBLIC_URL=wss://${DOMAIN}/data-fair</span>\n      <span class="hljs-bullet">-</span> <span class="hljs-string">DIRECTORY_URL=${PROTOCOL}://${DOMAIN}/simple-directory</span>\n      <span class="hljs-bullet">-</span> <span class="hljs-string">PRIVATE_DIRECTORY_URL=http://simple-directory:8080</span>\n      <span class="hljs-bullet">-</span> <span class="hljs-string">OPENAPI_VIEWER_URL=${PROTOCOL}://${DOMAIN}/api-doc/</span>\n      <span class="hljs-bullet">-</span> <span class="hljs-string">THUMBOR_URL=${PROTOCOL}://${DOMAIN}/thumbor/</span>\n      <span class="hljs-bullet">-</span> <span class="hljs-string">THUMBOR_KEY=${SECRET}</span>\n      <span class="hljs-bullet">-</span> <span class="hljs-string">MONGO_URL=mongodb://mongo:27017/data-fair</span>\n      <span class="hljs-bullet">-</span> <span class="hljs-string">ES_HOST=elasticsearch:9200</span>\n\n  <span class="hljs-attr">simple-directory:</span>\n    <span class="hljs-attr">image:</span> <span class="hljs-string">koumoul/simple-directory:1</span>\n    <span class="hljs-attr">restart:</span> <span class="hljs-string">always</span>\n    <span class="hljs-attr">volumes:</span>\n      <span class="hljs-bullet">-</span> <span class="hljs-string">simple-directory-security:/webapp/security</span>\n    <span class="hljs-attr">labels:</span>\n      <span class="hljs-bullet">-</span> <span class="hljs-string">"traefik.enable=true"</span>\n      <span class="hljs-bullet">-</span> <span class="hljs-string">"traefik.main.frontend.rule=PathPrefixStrip:/simple-directory"</span>\n      <span class="hljs-bullet">-</span> <span class="hljs-string">"traefik.main.port=8080"</span>\n      <span class="hljs-bullet">-</span> <span class="hljs-string">"traefik.maildev.frontend.rule=PathPrefixStrip:/mails"</span>\n      <span class="hljs-bullet">-</span> <span class="hljs-string">"traefik.maildev.port=1080"</span>\n      <span class="hljs-bullet">-</span> <span class="hljs-string">"traefik.maildev.frontend.auth.basic.users=${MAILDEV_BASIC}"</span>\n    <span class="hljs-attr">environment:</span>\n      <span class="hljs-bullet">-</span> <span class="hljs-string">PUBLIC_URL=${PROTOCOL}://${DOMAIN}/simple-directory</span>\n      <span class="hljs-bullet">-</span> <span class="hljs-string">STORAGE_MONGO_URL=mongodb://mongo:27017/simple-directory</span>\n      <span class="hljs-bullet">-</span> <span class="hljs-string">ADMINS=${ADMINS}</span>\n      <span class="hljs-bullet">-</span> <span class="hljs-string">HOME_PAGE=${PROTOCOL}://${DOMAIN}</span>\n      <span class="hljs-bullet">-</span> <span class="hljs-string">MAILS_TRANSPORT=${MAILS_TRANSPORT}</span>\n      <span class="hljs-bullet">-</span> <span class="hljs-string">MAILDEV_ACTIVE=${MAILDEV}</span>\n      <span class="hljs-bullet">-</span> <span class="hljs-string">MAILDEV_URL=${PROTOCOL}://${DOMAIN}/mails/</span>\n\n  <span class="hljs-attr">openapi-viewer:</span>\n    <span class="hljs-attr">image:</span> <span class="hljs-string">koumoul/openapi-viewer:1</span>\n    <span class="hljs-attr">restart:</span> <span class="hljs-string">\'always\'</span>\n    <span class="hljs-attr">labels:</span>\n      <span class="hljs-bullet">-</span> <span class="hljs-string">"traefik.enable=true"</span>\n      <span class="hljs-bullet">-</span> <span class="hljs-string">"traefik.frontend.rule=PathPrefixStrip:/api-doc/"</span>\n\n\n  <span class="hljs-attr">capture:</span>\n    <span class="hljs-attr">image:</span> <span class="hljs-string">koumoul/capture:1</span>\n    <span class="hljs-attr">restart:</span> <span class="hljs-string">\'always\'</span>\n    <span class="hljs-attr">shm_size:</span> <span class="hljs-string">\'1gb\'</span>\n    <span class="hljs-attr">environment:</span>\n      <span class="hljs-bullet">-</span> <span class="hljs-string">PUBLIC_URL=${PROTOCOL}://${DOMAIN}/capture</span>\n\n  <span class="hljs-attr">thumbor:</span>\n    <span class="hljs-attr">image:</span> <span class="hljs-string">apsl/thumbor:6.4.2</span>\n    <span class="hljs-attr">restart:</span> <span class="hljs-string">\'always\'</span>\n    <span class="hljs-attr">environment:</span>\n      <span class="hljs-bullet">-</span> <span class="hljs-string">SECURITY_KEY=${SECRET}</span>\n      <span class="hljs-bullet">-</span> <span class="hljs-string">STORAGE_EXPIRATION_SECONDS=600</span>\n      <span class="hljs-bullet">-</span> <span class="hljs-string">MAX_AGE=600</span>\n    <span class="hljs-attr">labels:</span>\n      <span class="hljs-bullet">-</span> <span class="hljs-string">"traefik.enable=true"</span>\n      <span class="hljs-bullet">-</span> <span class="hljs-string">"traefik.frontend.rule=PathPrefixStrip:/thumbor/"</span>\n\n  <span class="hljs-comment">#########################</span>\n  <span class="hljs-comment"># Dependencies</span>\n  <span class="hljs-comment">#########################</span>\n\n  <span class="hljs-attr">elasticsearch:</span>\n    <span class="hljs-attr">image:</span> <span class="hljs-string">koumoul/data-fair-elasticsearch:6.3.2</span>\n    <span class="hljs-attr">restart:</span> <span class="hljs-string">always</span>\n    <span class="hljs-attr">volumes:</span>\n      <span class="hljs-bullet">-</span> <span class="hljs-string">elasticsearch-data:/usr/share/elasticsearch/data</span>\n    <span class="hljs-attr">environment:</span>\n      <span class="hljs-bullet">-</span> <span class="hljs-string">discovery.type=single-node</span>\n\n  <span class="hljs-attr">mongo:</span>\n    <span class="hljs-attr">image:</span> <span class="hljs-string">mongo:4.0</span>\n    <span class="hljs-attr">restart:</span> <span class="hljs-string">always</span>\n    <span class="hljs-attr">volumes:</span>\n      <span class="hljs-bullet">-</span> <span class="hljs-string">mongo-data:/data/db</span>\n\n<span class="hljs-attr">volumes:</span>\n  <span class="hljs-attr">data-fair-data:</span>\n  <span class="hljs-attr">simple-directory-security:</span>\n  <span class="hljs-attr">elasticsearch-data:</span>\n  <span class="hljs-attr">mongo-data:</span>\n\n</code></pre>\n<p>Récupérer les dernières versions des images compatibles:</p>\n<pre><code class="language-sh">docker-compose pull\n</code></pre>\n<p>Configurez quelques variables d\'environnement nécessaires:</p>\n<pre><code class="language-sh"><span class="hljs-built_in">export</span> ADMINS=<span class="hljs-string">\'["alban.mouton@koumoul.com"]\'</span>\n<span class="hljs-built_in">export</span> SECRET=<span class="hljs-built_in">type</span> some random string here\n</code></pre>\n<h3>Variante 1 : HTTP local avec envoi de mail virtuel</h3>\n<p>Cette variante est utile pour se faire la main sur la logique de déploiement et tester.</p>\n<p>Créez une paire identifiant / mot de passe pour la protection de la boite mail locale:</p>\n<pre><code class="language-sh"><span class="hljs-built_in">export</span> MAILDEV_BASIC=<span class="hljs-string">"<span class="hljs-variable">$(htpasswd -nbm user passwd)</span>"</span>\n</code></pre>\n<p>Configurez les autres variables d\'environnement puis lancez les services:</p>\n<pre><code class="language-sh"><span class="hljs-built_in">export</span> MAILDEV=<span class="hljs-literal">true</span>\n<span class="hljs-built_in">export</span> PROTOCOL=http\n<span class="hljs-built_in">export</span> DOMAIN=localhost\n</code></pre>\n<p>Lancez les services:</p>\n<pre><code class="language-sh">docker-compose up -d --force-recreate\n</code></pre>\n<p>Vérifiez l\'état des services:</p>\n<pre><code class="language-sh">docker-compose ps\n</code></pre>\n<p>Quand tous les services sont &quot;Up&quot; et &quot;healthy&quot; vous pouvez accéder à <a href="http://localhost">http://localhost</a>.\nPour créer des comptes vous aurez besoin d\'accéder à la boite mail virtuelle <a href="http://localhost/mails">http://localhost/mails</a> protégée par identifiant = user et mot de passe = passwd.</p>\n<h3>Variante 2 : HTTP sur une machine privée et envoi de mails</h3>\n<p>Cette variante peut suffire pour un usage en intranet par exemple.</p>\n<p>Vous pouvez suivre les instructions précédentes. Mais les variables d\'environnement sont différentes.</p>\n<p>La variable MAILS_TRANSPORT attend un objet JSON de configuration compatible avec la librairie <a href="https://nodemailer.com/smtp/">nodemailer</a></p>\n<pre><code class="language-sh"><span class="hljs-built_in">export</span> ADMINS=<span class="hljs-string">\'["alban.mouton@koumoul.com"]\'</span>\n<span class="hljs-built_in">export</span> MAILDEV=<span class="hljs-literal">false</span>\n<span class="hljs-built_in">export</span> PROTOCOL=http\n<span class="hljs-built_in">export</span> DOMAIN=MON NOM DE MACHINE\n<span class="hljs-built_in">export</span> MAILS_TRANSPORT=<span class="hljs-string">\'{"service": "Mailgun", "auth": {...<span>}}</span>\'</span>\ndocker-compose up -d --force-recreate\ndocker-compose ps\n</code></pre>\n<p>Et accédez sur &quot;http://MON_NOM_DE_MACHINE&quot;.</p>\n<h3>Variante 3 : HTTPS sur un serveur</h3>\n<p>Cette variante est une solution complète de déploiement sécurisé. En pré-requis minimal il faut:</p>\n<ul>\n<li>une machine virtuelle sur internet sécurisée (firewall, etc.) et disposant d\'un démon docker</li>\n<li>un nom de domaine configuré pour pointer vers l\'adresse de cette machine virtuelle</li>\n</ul>\n<p><strong>À venir</strong></p>\n<h3>Mises à jour</h3>\n<p>La mise à jour s\'effectue en lançant les 2 commandes suivantes :</p>\n<pre><code class="language-sh">docker-compose pull\ndocker-compose up -d\n</code></pre>\n<p>Pensez bien à re-définir les variables d\'environnement à chaque fois que vous faites cette opération. Pour des changements de versions majeures, vous pouvez avoir besoin de mettre à jour le contenu du fichier docker-compose.yml</p>\n<p>Pour plus d\'informations sur les commandes disponibles, vous pouvez <a href="https://docs.docker.com/compose/">consulter la documentation</a>.</p>\n</section>\n'},293:function(e,n,t){e.exports={mode:"server_worker",port:8080,listenWhenReady:!1,publicUrl:"http://localhost:8080",wsPublicUrl:"ws://localhost:8080",dataDir:"/data",sessionDomain:null,directoryUrl:"http://localhost:8080",privateDirectoryUrl:"",openapiViewerUrl:"https://koumoul.com/openapi-viewer/",captureUrl:"http://capture:8080",privateCaptureUrl:null,notifyUrl:null,privateNotifyUrl:null,notifyWSUrl:null,subscriptionUrl:null,pluginsDir:"./plugins",mongoUrl:"mongodb://localhost:27017/data-fair-production",map:{style:"./api/v1/remote-services/tileserver-koumoul/proxy/styles/klokantech-basic/style.json",beforeLayer:"poi_label"},elasticsearch:{host:"localhost:9200",defaultAnalyzer:"french",maxBulkLines:2e3,maxBulkChars:2e5,requestTimeout:24e4},indicesPrefix:"dataset-production",info:{termsOfService:"https://koumoul.com/term-of-service",contact:{name:"Koumoul",url:"https://koumoul.com",email:"support@koumoul.com"}},brand:{logo:null,title:"DataFair",description:"Find, Access, Interoperate, Reuse data on the Web",embed:null},theme:{dark:!1,colors:{primary:"#1E88E5",secondary:"#42A5F5",accent:"#FF9800",error:"FF5252",info:"#2196F3",success:"#4CAF50",warning:"#E91E63",admin:"#E53935"},darkColors:{primary:"#2196F3",success:"#00E676"},cssUrl:null,cssText:"\n.theme--light .navigation-left .v-navigation-drawer__content {\n  background: linear-gradient(90deg, rgba(25,118,210,1) 0%, rgba(30,136,229,1) 100%);\n}\n.theme--dark .navigation-left .v-navigation-drawer__content {\n  background: linear-gradient(90deg, #363636 0%, #272727 100%);\n}\n.v-btn.primary {\n  background: linear-gradient(270deg, rgba(25,118,210,1) 0%, rgba(30,136,229,1) 100%);\n}\n"},darkModeSwitch:!0,defaultLimits:{totalStorage:-1,datasetStorage:-1,attachmentStorage:1e8,attachmentIndexed:5e6,remoteServiceRate:{duration:5,nb:100,kb:4e3},apiRate:{anonymous:{duration:5,nb:100,bandwidth:{dynamic:5e5,static:2e6}},user:{duration:1,nb:100,bandwidth:{dynamic:1e6,static:4e6}}},hideBrand:0},worker:{interval:200,releaseInterval:2e3,concurrency:4,spawnTask:!0},adminRole:"admin",contribRole:"contrib",userRole:"user",defaultRemoteKey:{in:"header",name:"x-apiKey",value:null},remoteTimeout:5e3,secretKeys:{identities:null,limits:null,notifications:null},globalWebhooks:{consumption:[]},locks:{ttl:60},cache:{publicMaxAge:20,timestampedPublicMaxAge:604800,size:1e3},analytics:{},browserLogLevel:"error",thumbor:{url:"http://localhost:8000",key:"thumborkey"},nuxtDev:!1,licenses:[{title:"Licence Ouverte / Open Licence",href:"https://www.etalab.gouv.fr/licence-ouverte-open-licence"},{title:"Open Database License (ODbL)",href:"https://spdx.org/licenses/ODbL-1.0.html#licenseText"}],applicationsDirectories:["https://koumoul.com/apps/","https://staging-koumoul.com/apps/","https://koumoul-dev.github.io/","https://cdn.jsdelivr.net/npm/@koumoul/"],applications:[{url:"https://koumoul.com/apps/infos-parcelles/2.5/"},{url:"https://koumoul.com/apps/infos-loc/0.9/"},{url:"https://cdn.jsdelivr.net/npm/@koumoul/data-fair-charts@0.8/dist/"},{url:"https://koumoul.com/apps/word-cloud/0.3/"},{url:"https://koumoul.com/apps/sankey/0.5/"},{url:"https://koumoul.com/apps/sunburst/0.2/"},{url:"https://koumoul.com/apps/data-fair-networks/0.1/"},{url:"https://koumoul.com/apps/list-details/0.2/"},{url:"https://koumoul.com/apps/carto-stats/0.4/"},{url:"https://koumoul.com/apps/data-fair-series/0.2/"},{url:"https://koumoul.com/apps/data-fair-admin-divs/0.2/"},{url:"https://koumoul.com/apps/bar-chart-race/0.1/"},{url:"https://koumoul.com/apps/data-fair-geo-shapes/0.1/"},{url:"https://koumoul.com/apps/scdl-deliberations/0.1/"},{url:"https://koumoul.com/apps/scdl-equipements/0.1/"},{url:"https://koumoul.com/apps/data-fair-events/1.0/"}],baseAppsCategories:["carte","graphique","textuelle","SCDL"],remoteServices:[{title:"Données Entreprises",url:"https://koumoul.com/s/sirene/api-docs.json"},{title:"Géocoder",url:"https://koumoul.com/s/geocoder/api/v1/api-docs.json"},{title:"Cadastre",url:"https://koumoul.com/s/cadastre/api-docs.json"},{title:"Divisions administratives",url:"https://koumoul.com/s/insee-mapping/api/v1/api-docs.json"},{title:"Service de données cartographiques",url:"https://koumoul.com/s/tileserver/api/v1/api-docs.json"}],catalogs:[{title:"Data.gouv.fr",href:"https://www.data.gouv.fr",logo:"https://static.data.gouv.fr/_themes/gouvfr/img/logo-header.svg"}],proxyNuxt:!1,tippecanoe:{skip:!1,minFeatures:2e3,docker:!1,args:["-zg","--extend-zooms-if-still-dropping","--drop-densest-as-needed","--detect-shared-borders","-r1"]},datasetUrlTemplate:null,applicationUrlTemplate:null,doc:{datasetEdit:null,datasetExtend:null,datasetAttachments:null,settings:null,catalogs:null},extraNavigationItems:[],extraAdminNavigationItems:[]}},294:function(e,n){e.exports={}},295:function(e,n){e.exports={port:"PORT",mode:"MODE",publicUrl:"PUBLIC_URL",wsPublicUrl:"WS_PUBLIC_URL",sessionDomain:"SESSION_DOMAIN",directoryUrl:"DIRECTORY_URL",privateDirectoryUrl:"PRIVATE_DIRECTORY_URL",openapiViewerUrl:"OPENAPI_VIEWER_URL",captureUrl:"CAPTURE_URL",privateCaptureUrl:"PRIVATE_CAPTURE_URL",notifyUrl:"NOTIFY_URL",privateNotifyUrl:"PRIVATE_NOTIFY_URL",notifyWSUrl:"NOTIFY_WS_URL",subscriptionUrl:"SUBSCRIPTION_URL",mongoUrl:"MONGO_URL",analytics:{__name:"ANALYTICS",__format:"json"},elasticsearch:{host:"ES_HOST",defaultAnalyzer:"ES_DEFAULT_ANALYZER",maxBulkLines:{__name:"ES_MAX_BULK_LINES",__format:"json"},maxBulkChars:{__name:"ES_MAX_BULK_CHARS",__format:"json"}},defaultRemoteKey:{value:"DEFAULT_REMOTE_KEY"},secretKeys:{identities:"SECRET_IDENTITIES",limits:"SECRET_LIMITS",notifications:"SECRET_NOTIFICATIONS"},globalWebhooks:{consumption:{__name:"WEBHOOKS_CONSUMPTION",__format:"json"}},brand:{logo:"BRAND_LOGO",title:"BRAND_TITLE",description:"BRAND_DESCRIPTION",url:"BRAND_URL",embed:"BRAND_EMBED"},theme:{dark:{__name:"THEME_DARK",__format:"json"},colors:{primary:"THEME_PRIMARY",secondary:"THEME_SECONDARY",accent:"THEME_ACCENT",error:"THEME_ERROR",info:"THEME_INFO",success:"THEME_SUCCESS",warning:"THEME_WARNING"},darkColors:{primary:"THEME_DARK_PRIMARY",secondary:"THEME_DARK_SECONDARY",accent:"THEME_DARK_ACCENT",error:"THEME_DARK_ERROR",info:"THEME_DARK_INFO",success:"THEME_DARK_SUCCESS",warning:"THEME_DARK_WARNING"},cssUrl:"THEME_CSS_URL",cssText:"THEME_CSS_TEXT"},darkModeSwitch:{__name:"DARK_MODE_SWITCH",__format:"json"},defaultLimits:{totalStorage:{__name:"DEFAULT_LIMITS_TOTAL_STORAGE",__format:"json"},datasetStorage:{__name:"DEFAULT_LIMITS_DATASET_STORAGE",__format:"json"}},worker:{interval:{__name:"WORKER_INTERVAL",__format:"json"},concurrency:{__name:"WORKER_CONCURRENCY",__format:"json"},spawnTask:{__name:"WORKER_SPAWN_TASK",__format:"json"}},browserLogLevel:"BROWSER_LOG_LEVEL",listenWhenReady:{__name:"LISTEN_WHEN_READY",__format:"json"},thumbor:{url:"THUMBOR_URL",key:"THUMBOR_KEY"},info:{termsOfService:"INFO_TOS",contact:{__name:"INFO_CONTACT",__format:"json"}},tippecanoe:{skip:{__name:"TIPPECANOE_SKIP",__format:"json"}},datasetUrlTemplate:"DATASET_URL_TEMPLATE",applicationUrlTemplate:"APPLICATION_URL_TEMPLATE",doc:{datasetEdit:"DOC_DATASET_EDIT",datasetExtend:"DOC_DATASET_EXTEND",datasetAttachments:"DOC_DATASET_ATTACHMENTS",settings:"DOC_SETTINGS",catalogs:"DOC_CATALOGS"},extraNavigationItems:{__name:"EXTRA_NAV_ITEMS",__format:"json"},extraAdminNavigationItems:{__name:"EXTRA_ADMIN_NAV_ITEMS",__format:"json"}}},332:function(e,n,t){"use strict";t.r(n);t(20),t(39);var r=t(9),l=(t(34),t(8),t(5),t(13),t(250)),o=t(284),c=t(286),h=Object.assign({},t(293),t(294));var m=function e(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return Object.keys(n).forEach((function(o){var c=l+o,m=c.split(".").reduce((function(a,e){return a[e]}),h);"object"===Object(r.a)(m)&&(m=JSON.stringify(m)),"string"==typeof n[o]?t.push({key:c,name:n[o],def:m}):"object"===Object(r.a)(n[o])&&n[o].__name?t.push({key:c,name:n[o].__name,def:m}):e(n[o],t,l+o+".")})),t}(t(295));var d={components:{DocPage:l.a},data:function(){return{pages:["install","config","i18n"]}},computed:{content:function(){if(this.$route){var content=c("./".concat(this.$route.params.id,"-").concat(this.$i18n.locale,".md"))||c("./".concat(this.$route.params.id,"-fr.md"));return content.replace("{{I18N_VARS}}",this.i18nVars).replace("{{CONFIG_VARS}}",this.configVars)}},configVars:function(){var e=this,table="<table><thead><tr><th>".concat(this.$t("pages.install.config.varKey"),"</th><th>").concat(this.$t("pages.install.config.varName"),"</th><th>").concat(this.$t("pages.install.config.varDesc"),"</th><th>").concat(this.$t("pages.install.config.varDefault"),"</th></tr></thead><tbody>\n");return m.forEach((function(n){var t=e.$te("pages.install.config.varDescriptions."+n.key)?e.$t("pages.install.config.varDescriptions."+n.key):"";table+="<tr><td>".concat(n.key,"</td><td>").concat(n.name,"</td><td>").concat(t,"</td><td>").concat(n.def,"</td></tr>\n")})),table+="</tbody></table>"},i18nVars:function(){var e=this,n=o(this.$i18n.messages[this.$i18n.locale],{delimiter:"_"}),table="<table><thead><tr><th>".concat(this.$t("pages.install.i18n.i18nKey"),"</th><th>").concat(this.$t("pages.install.i18n.i18nVar"),"</th><th>").concat(this.$t("pages.install.i18n.i18nVal"),"</th></tr></thead><tbody>\n");return table+=Object.keys(n).filter((function(e){return 0!==e.indexOf("doc_")})).map((function(t){return"<tr><td>".concat(t.replace(/_/g,"."),"</td><td>I18N_").concat(e.$i18n.locale,"_").concat(t,"</td><td><pre>").concat(("string"==typeof n[t]?n[t]:"MISSING").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"),"</pre></td></tr>")})).join("\n"),table+="</tbody></table>"}}},f=t(60),component=Object(f.a)(d,(function(){var e=this.$createElement;return(this._self._c||e)("doc-page",{attrs:{page:this.$route.params.id,pages:this.pages,content:this.content,prefix:"install"}})}),[],!1,null,null,null);n.default=component.exports}}]);